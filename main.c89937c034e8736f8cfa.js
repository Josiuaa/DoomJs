(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t){},121:function(e,t){},164:function(e,t,o){"use strict";o.r(t);var n=o(25);const r=60*Math.PI/200,a=2*Math.PI,s="shells",l="cells",i={BULLETS:"bullets",SHELLS:s,ROCKETS:"rockets",CELLS:l},c={bullets:200,[s]:50,rockets:50,[l]:300},p={FIST:"fist",CHAINSAW:"chainsaw",PISTOL:"pistol",SHOTGUN:"shotgun",SUPER_SHOTGUN:"supershotgun",CHAINGUN:"chaingun",ROCKET_LAUNCHER:"rocketlauncher",PLASMA_GUN:"plasmagun",BFG9000:"bfg9000"},d={fist:{prefix:"PUN",firingFrames:["B","C","D"],firingFrameDelay:5,firingSounds:["DSPUNCH"]},chainsaw:{prefix:"SAW",raiseSound:"DSSAWUP",idleFrames:["C","D"],idleFrameInterval:4,idleSound:"DSSAWIDL",idleSoundInterval:275,firingFrames:["A","B"],firingFrameDelay:1,firingSounds:["DSSAWFUL",""]},pistol:{ammoType:"bullets",prefix:"PIS",firingFrames:["A","C","E"],firingSounds:["DSPISTOL"]},shotgun:{ammoType:s,prefix:"SHT",firingFrames:["A","A","B","C","D"],flashFrames:["A","B"],firingSounds:["DSSHOTGN"]},supershotgun:{ammoType:s,usage:2,prefix:"SHT2",noFlashSpritePrefix:!0,firingFrames:["A","A","B","C","D","E","F","G","H"],firingFrameDelay:5,flashFrames:["I","J"],firingSounds:["DSDSHTGN","","DSDBCLS","","DSDBLOAD","","DSDBOPN","",""]},chaingun:{ammoType:"bullets",prefix:"CHG",firingFrames:["B","A"],flashFrames:["B","A"],firingSounds:["DSPISTOL","DSPISTOL"]},rocketlauncher:{ammoType:"rockets",prefix:"MIS",firingFrames:["B","B","B","B"],flashFrames:["A","B","C","D"],firingSounds:["DSRLAUNC"]},plasmagun:{ammoType:l,prefix:"PLS",noFlashOverlay:!0,firingFrames:["FA","FB"],firingFrameDelay:2,firingSounds:["DSPLASMA"],releaseFrames:["B"]},bfg9000:{ammoType:l,usage:40,prefix:"BFG",firingFrames:["A","A","B"],firingFrameDelay:20,flashFrames:[null,"A","B"],firingSounds:["DSBFG"]}},u=["shotgun","supershotgun","chaingun","rocketlauncher","plasmagun","bfg9000"],Z={blue:"skull",yellow:"skull",red:"skull"},O={bullets:400,shells:100,rockets:100,cells:600},{FIST:y,CHAINSAW:m,PISTOL:E,SHOTGUN:A,SUPER_SHOTGUN:L,CHAINGUN:F,ROCKET_LAUNCHER:T,PLASMA_GUN:S,BFG9000:W}=p,_={FRAC_UNIT:64,IMG_EXT:".png",ON:"ON",OFF:"OFF",OPACITY_INCREMENT:.15,OPACITY_DURATION:30,PICK_UP_OVERLAY:"210, 210, 100",ALPHANUMERIC_PATH:"assets/alphanumeric",STATUS_BAR_PATH:"assets/hud",WEAPON_PATH:"assets/weapons",ENEMY_PATH:"assets/monsters",WOLF_PATH:"assets/wolf",TEXTURE_PATH:"assets/textures",ITEM_PATH:"assets/items",DECORATION_PATH:"assets/decorations",PLAYER_MAX_NORMAL_HEALTH:100,PLAYER_MAX_IMPROVED_HEALTH:200,PLAYER_MAX_IMPROVED_ARMOR:200,KEYBOARD:{UP:38,DOWN:40,LEFT:37,RIGHT:39,TAB:9,SHIFT:16,CTRL:17,COMMAND:91,MINUS:189,EQUAL:187,NUMPAD_MINUS:109,NUMPAD_PLUS:107,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,A:65,D:68,F:70,G:71,J:74,M:77,P:80,R:82,S:83,V:86,W:87},CHEATS:["IDDQD","IDFA","IDKFA","IDDT","IDMUS"],STATUS_BAR_FILLER:"assets/textures/ROCK2.png",STATUS_BAR_NUM_PREFIX:"STT",STATUS_BAR_NUM_GREY_PREFIX:"STGNUM",STATUS_BAR_NUM_YELLOW_PREFIX:"STYSNUM",STATUS_BAR_KEY_PREFIX:"STKEYS",STATUS_BAR_FILENAME:"STBAR",STATUS_BAR_WEAPON_FILENAME:"STARMS",MUGSHOT:{PREFIX:"STF",DEAD:"DEAD",RAMPAGE:"EVL",GODMODE:"GOD",OUCHFACE:"OUCH",IDLE:"ST",HURT_LEFT:"TR",HURT_RIGHT:"TL",LOOK_LEFT:2,LOOK_STRAIGHT:1,LOOK_RIGHT:0,THRESHOLD0:0,THRESHOLD1:1,THRESHOLD2:2,THRESHOLD3:3,THRESHOLD4:4},WEAPONS:p,WEAPON_SLOTS:{1:[m,y],2:[E],3:[L,A],4:[F],5:[T],6:[S],7:[W]},WEAPON_SETTINGS:d,WEAPON_SWITCH_TIME:7,DEFAULT_FIRING_WEAPON_FRAME_DELAY:4,AMMO:i,AMMO_MAX:c};const h={x:1,y:1,rotDeg:0,x:25,y:11,rotDeg:90,...{selectedWeapon:"pistol",moveSpeed:.2,rotSpeed:4,speed:0,dir:0,ammo:{bullets:50,[s]:23,rockets:11,[l]:212},weapons:["chainsaw","shotgun","supershotgun","chaingun","rocketlauncher","plasmagun","bfg9000"],health:2,armor:0,godMode:!1,strafe:!1,dead:!1}};const g={};const R=[["GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE","GRAYVINE"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9"],["STARGR1",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5","ZZWOLF11"],["ZZWOLF9",0,0,"ZZWOLF1","ZZWOLF1","ZZWOLF1",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF1",0,"ZZWOLF1",0,0,"ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF11","ZZWOLF9",0,0,0,0,0,0,0,0,"ZZWOLF11","ZZWOLF9",0,0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF1",0,"ZZWOLF5",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,0,0,"ZZWOLF1",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,0,0,"ZZWOLF1",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF1","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF1",0,"ZZWOLF1",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"BIGBRIK1",0,"ASHWALL3",0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF1",0,"ZZWOLF5",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"BIGBRIK1",0,"ZZWOLF11",0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF5","ZZWOLF11"],["ZZWOLF9",0,0,"ZZWOLF1",0,"ZZWOLF1",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"BIGBRIK1",0,"ZZWOLF11","ZZWOLF11",0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF1","ZZWOLF1","ZZWOLF1",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"STARGR1","ZIMMER1","STARGR1","STARGR2","STARGR2","ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,0,0,0,0,0,0,"ZZWOLF1","ZZWOLF1","ZZWOLF1",0,0,"ZZWOLF1","ZZWOLF1","ZZWOLF1","ZZWOLF11",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF5","ZZWOLF11"],["ZZWOLF9",0,0,0,0,0,0,0,0,"ZZWOLF1","ZZWOLF1","ZZWOLF1",0,0,"ZZWOLF1","ZZWOLF1","ZZWOLF1","ZZWOLF11",0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,0,0,0,0,0,0,"ZZWOLF1","ZZWOLF1","ZZWOLF1",0,0,"ZZWOLF1","ZZWOLF1","ZZWOLF1",0,0,0,0,0,0,0,0,0,"ZZWOLF1","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,0,0,0,0,0,0,"ZZWOLF1","ZZWOLF1","ZZWOLF1",0,0,"ZZWOLF1","ZZWOLF1","ZZWOLF1",0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF5",0,0,"ZZWOLF5","ZZWOLF11",0,0,0,0,0,0,"ZZWOLF5","ZZWOLF11","ZZWOLF11",0,"ZZWOLF11","ZZWOLF5","ZZWOLF5",0,0,"ZZWOLF5",0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF5",0,0,"ZZWOLF5",0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF5",0,0,"ZZWOLF5",0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF5",0,0,"ZZWOLF5",0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF5",0,0,"ZZWOLF5",0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF5",0,0,"ZZWOLF5",0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF5",0,0,"ZZWOLF5",0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF5","ZZWOLF1","ZZWOLF1","ZZWOLF5",0,0,0,0,0,"ZZWOLF5",0,0,0,0,0,"ZZWOLF5","ZZWOLF11","ZZWOLF5","ZZWOLF1","ZZWOLF1","ZZWOLF5",0,0,0,0,0,0,0,"ZZWOLF9","ZZWOLF11","STARGR2","STARGR2","ZZWOLF11","ZZWOLF11","ZZWOLF11"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,"ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9","ZZWOLF11",0,"ZZWOLF9",0,"ZZWOLF9",0,"ZZWOLF9",0,"ZZWOLF9",0,"ZZWOLF9",0,"ZZWOLF5","ZZWOLF5","ZZWOLF5","ZIMMER1","ZIMMER1","ZIMMER1","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9",0,0,0,0,0,"ZZWOLF1",0,"ZZWOLF9","ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9","ZZWOLF9",0,"ZZWOLF9",0,"ZZWOLF9",0,0,0,0,0,0,0,0,"ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF1","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9",0,0,"ZZWOLF1","ZZWOLF1",0,0,0,0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,"ZZWOLF9",0,"ZZWOLF9",0,0,0,0,0,0,0,0,"ZZWOLF9","ZZWOLF9",0,0,0,0,"ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9",0,"ZZWOLF1","ZZWOLF1",0,0,"ZZWOLF9",0,0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,"ZZWOLF9","ZZWOLF9",0,"ZZWOLF9",0,0,0,0,0,0,0,0,"ZZWOLF11","ZZWOLF9",0,0,0,0,0,"ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9",0,"ZZWOLF1",0,0,0,"ZZWOLF9","ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,"ZZWOLF9","ZZWOLF9",0,"ZZWOLF9",0,0,0,0,0,0,0,0,"ZZWOLF11","ZZWOLF9",0,0,0,0,"ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9",0,0,0,0,"ZZWOLF9","ZZWOLF9","ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9",0,0,0,0,"ZZWOLF9",0,0,0,0,"ZZWOLF9",0,0,0,"ZZWOLF1","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9",0,0,0,"ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9",0,0,0,0,0,"ZZWOLF5"],["ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9","ZZWOLF9",0,0,0,0,0,"ZZWOLF5"]],f={mapWidth:R[0].length,mapHeight:R.length};const I=[...R];const M={ASHWALL2:"ASHWALL2",ASHWALL3:"ASHWALL3",ASHWALL4:"ASHWALL4",ASHWALL6:"ASHWALL6",ASHWALL7:"ASHWALL7",BIGBRIK1:"BIGBRIK1",BIGDOOR1:"BIGDOOR1",BIGDOOR2:"BIGDOOR2",CEMENT5:"CEMENT5",GRAYVINE:"GRAYVINE",STARGR1:"STARGR1",STARGR2:"STARGR2",ZIMMER1:"ZIMMER1",ZZWOLF1:"ZZWOLF1",ZZWOLF5:"ZZWOLF5",ZZWOLF9:"ZZWOLF9",ZZWOLF11:"ZZWOLF11",ZZWOLF12:"ZZWOLF12",ZZWOLF13:"ZZWOLF13",ZZZFACE1:"ZZZFACE1",ZZZFACE2:"ZZZFACE2",ZZZFACE3:"ZZZFACE3",ZZZFACE4:"ZZZFACE4",ZZZFACE5:"ZZZFACE5",ZZZFACE6:"ZZZFACE6",ZZZFACE7:"ZZZFACE7",ZZZFACE8:"ZZZFACE8",ZZZFACE9:"ZZZFACE9"};const D={zombieman:{name:"Zombieman",prefix:"POSS",health:20,moveSpeed:.03,rotSpeed:3,walk:{cycle:700,start:"A",end:"D",count:4,mirroredAngles:!0,soundRandom:["DSPOSACT"],soundBaseInterval:3e3}},shotgunGuy:{name:"Shotgun Guy",prefix:"SPOS",health:30,moveSpeed:.03,rotSpeed:3,walk:{cycle:700,start:"A",end:"D",count:4,mirroredAngles:!0,soundRandom:["DSPOSACT"],soundBaseInterval:3e3}},chaingunner:{name:"Heavy Weapon Dude",prefix:"CPOS",health:70,moveSpeed:.03,rotSpeed:3,walk:{cycle:700,start:"A",end:"D",count:4,soundRandom:["DSPOSACT"],soundBaseInterval:3e3}},imp:{name:"Imp",prefix:"TROO",moveSpeed:.03,rotSpeed:3,walk:{cycle:700,start:"A",end:"D",count:4,mirroredAngles:!0,soundRandom:["DSBGACT"],soundBaseInterval:5e3}},demon:{name:"Demon",prefix:"SARG",moveSpeed:.04,rotSpeed:3,walk:{cycle:600,start:"A",end:"D",count:4,mirroredAngles:!0,soundRandom:["DSDMACT"],soundBaseInterval:4e3}},lostSoul:{name:"Lost Soul",prefix:"SKUL",moveSpeed:.015,rotSpeed:3,walk:{cycle:500,start:"A",end:"B",count:2,mirroredAngles:!0,reversedAngles:!0,soundRandom:["DSDMACT"],soundBaseInterval:5e3}},cacodemon:{name:"Cacodemon",prefix:"HEAD",moveSpeed:.025,rotSpeed:3,walk:{cycle:500,start:"A",end:"A",count:1,mirroredAngles:!0,soundRandom:["DSDMACT"],soundBaseInterval:5e3}},hellKnight:{name:"Hell Knight",prefix:"BOS2",moveSpeed:.06,rotSpeed:3,walk:{cycle:900,start:"A",end:"D",count:4,mirroredFrames:!0,soundRandom:["DSDMACT"],soundBaseInterval:5e3}},baronOfHell:{name:"Baron of Hell",prefix:"BOSS",moveSpeed:.06,rotSpeed:3,walk:{cycle:900,start:"A",end:"D",count:4,mirroredAngles:!0,soundRandom:["DSDMACT"],soundBaseInterval:5e3}},arachnotron:{name:"Arachnotron",prefix:"BSPI",moveSpeed:.03,rotSpeed:3,walk:{cycle:900,start:"A",end:"F",count:6,mirroredFramesAnglesNotShared:!0,soundFixed:["DSBSPWLK"],soundRandom:["DSBSPACT"],soundFixedInterval:550,soundBaseInterval:5e3}},painElemental:{name:"Pain Elemental",prefix:"PAIN",moveSpeed:.03,rotSpeed:3,walk:{cycle:700,start:"A",end:"C",count:3,mirroredAngles:!0}},revenant:{name:"Revenant",prefix:"SKEL",moveSpeed:.06,rotSpeed:3,walk:{cycle:700,start:"A",end:"F",count:6,mirroredFrames:!0,soundRandom:["DSSKEACT"],soundBaseInterval:5e3}},mancubus:{name:"Mancubus",prefix:"FATT",moveSpeed:.02,rotSpeed:3,walk:{cycle:1200,start:"A",end:"F",count:6,mirroredAngles:!0,soundRandom:["DSPOSACT"],soundBaseInterval:5e3}},archVile:{name:"Arch-Vile",prefix:"VILE",moveSpeed:.08,rotSpeed:3,walk:{cycle:700,start:"A",end:"F",count:6,mirroredFrames:!0,soundRandom:["DSVILACT"],soundBaseInterval:5e3}},spiderMastermind:{name:"The Spider Mastermind",prefix:"SPID",moveSpeed:.02,rotSpeed:3,walk:{cycle:900,start:"A",end:"F",count:6,mirroredFramesAnglesNotShared:!0,soundFixed:["DSMETAL"],soundFixedInterval:425}},cyberdemon:{name:"Cyberdemon",prefix:"CYBR",moveSpeed:.04,rotSpeed:3,walk:{cycle:800,start:"A",end:"D",count:4,soundFixed:["DSHOOF"],soundFixedInterval:900}},ss:{name:"",prefix:"SSWV",moveSpeed:.03,rotSpeed:3,walk:{cycle:700,start:"A",end:"D",count:4}}};const{NORTH:P,EAST:N,SOUTH:x,WEST:w}={NORTH:-90,EAST:0,SOUTH:90,WEST:-180};const v=(e,t)=>{let o=null;return{foundEnemy:e.find((e,n)=>e.id===t&&(o=n,!0)),foundIndex:o}},C=(e,t,o)=>{const n="fixedInterval"===t?o:e.fixedSoundQueued,r="randomInterval"===t?o:e.randomSoundQueued;return{...e,fixedSoundQueued:n,randomSoundQueued:r}},k=[...[{type:"imp",x:20,y:30,rotDeg:P},{type:"revenant",x:34,y:18.5,rotDeg:x},{type:"zombieman",x:12,y:12,rotDeg:N},{type:"shotunGuy",x:30,y:30,rotDeg:w}]];const G={barrel:{prefix:"BAR1",radius:10},candle:{prefix:"CAND",block:!1},candelabra:{prefix:"CBRA"},eye:{prefix:"CEYE"},column1:{prefix:"COL1"},column2:{prefix:"COL2"},column3:{prefix:"COL3"},column4:{prefix:"COL4"},column5:{prefix:"COL5"},column6:{prefix:"COL6"},lamp1:{prefix:"COLU"}};const b=[{type:"barrel",x:10,y:7.5},{type:"candelabra",x:12,y:7},{type:"eye",x:11,y:6},{type:"candle",x:15,y:7},{type:"candelabra",x:5,y:22},{type:"eye",x:12,y:22},{type:"column1",x:19,y:22},{type:"column4",x:8,y:19},{type:"column2",x:10.5,y:19},{type:"column3",x:15,y:19},{type:"column5",x:17,y:18},{type:"column6",x:17,y:18},{type:"lamp1",x:12.75,y:4.5},{type:"lamp1",x:0,y:0},{type:"column3",x:2,y:3}];const H={...{chainsaw:{message:"A chainsaw!  Find some meat!",prefix:"CSAW",pickup:{weapon:"chainsaw"}},shotgun:{message:"You got the shotgun!",prefix:"SHOT",pickup:{weapon:"shotgun",[s]:8}},superShotgun:{message:"You got the super shotgun!",prefix:"SGN2",pickup:{weapon:"supershotgun",[s]:8}},chaingun:{message:"You got the chaingun!",prefix:"MGUN",pickup:{weapon:"chaingun",bullets:20}},rocketLauncher:{message:"You got the rocket launcher!",prefix:"LAUN",pickup:{weapon:"rocketlauncher",rockets:2}},plasmaGun:{message:"You got the plasma gun!",prefix:"PLAS",pickup:{weapon:"plasmagun",[l]:40}},bfg9000:{message:"You got the BFG9000!  Oh, yes.",prefix:"BFUG",pickup:{weapon:"bfg9000",[l]:40}},clip:{message:"Picked up a clip.",prefix:"CLIP",pickup:{bullets:5}},boxOfBullets:{message:"Picked up a box of bullets.",prefix:"AMMO",pickup:{bullets:50}},shells:{message:"Picked up 4 shotgun shells.",prefix:"SHEL",pickup:{[s]:4}},boxOfShells:{message:"Picked up a box of shotgun shells.",prefix:"SBOX",pickup:{[s]:20}},rocket:{message:"Picked up a rocket.",prefix:"ROCK",pickup:{rockets:1}},boxOfRockets:{message:"Picked up a box of rockets.",prefix:"BROK",pickup:{rockets:5}},cell:{message:"Picked up an energy cell.",prefix:"CELL",pickup:{[l]:20}},cellPack:{message:"Picked up an energy cell pack.",prefix:"CELP",pickup:{[l]:100}},backpack:{message:"Picked up a backpack full of ammo!",prefix:"BPAK",pickup:{doubleMaxAmmo:!0,bullets:10,[s]:4,rockets:1,[l]:20}},vial:{message:"Picked up a health bonus.",prefix:"BON1",endFrame:"D",pickup:{extraHealth:1}},stimpack:{message:"Picked up a stimpack.",prefix:"STIM",pickup:{addHealth:10}},medikit:{message:"Picked up a medikit.",prefix:"MEDI",pickup:{addHealth:25}},helmet:{message:"Picked up an armor bonus.",prefix:"BON2",endFrame:"D",pickup:{extraArmor:1,doNotOverrideArmorType:!0}},greenArmor:{message:"Picked up the armor.",prefix:"ARM1",endFrame:"B",pickup:{setArmor:100,armorType:"green"}},blueArmor:{message:"Picked up the MegaArmor!",prefix:"ARM2",endFrame:"B",pickup:{setArmor:200,armorType:"blue"}},berserk:{message:"Berserk!",prefix:"PSTR",pickup:{setHealth:100,berserk:!0}},soulSphere:{message:"Supercharge!",prefix:"SOUL",endFrame:"D",pickup:{extraHealth:100}},megasphere:{message:"MegaSphere!",prefix:"MEGA",endFrame:"D",pickup:{setHealth:200,setArmor:200,armorType:"blue"}},invulnerability:{message:"Invulnerability!",prefix:"PINV",endFrame:"D",pickup:{invulnerable:30}},invisibility:{message:"Partial Invisibility",prefix:"PINS",endFrame:"D",pickup:{invisible:60}},computerMap:{message:"Computer Area Map",prefix:"PMAP",endFrame:"D",pickup:{revealMapUnexplored:!0}},visor:{message:"Light Amplification Visor",prefix:"PVIS",endFrame:"B",pickup:{lightAmplification:120}},radSuit:{message:"Radiation Shielding Suit",prefix:"SUIT",pickup:{radiationShield:120}}}};const U=[{type:"boxOfBullets",x:11.5,y:11},{type:"clip",x:12.5,y:11},{type:"shells",x:14.5,y:11},{type:"boxOfShells",x:13.5,y:11},{type:"cell",x:14.5,y:10},{type:"cellPack",x:13.5,y:10},{type:"rocket",x:12.5,y:10},{type:"boxOfRockets",x:11.5,y:10},{type:"stimpack",x:30,y:15},{type:"medikit",x:31,y:15},{type:"vial",x:31,y:14},{type:"berserk",x:32,y:14},{type:"helmet",x:29,y:13},{type:"greenArmor",x:31,y:13},{type:"blueArmor",x:33,y:13},{type:"megasphere",x:30,y:12},{type:"backpack",x:33,y:12},{type:"chainsaw",x:30,y:11},{type:"shotgun",x:30,y:10},{type:"superShotgun",x:30,y:9},{type:"chaingun",x:30,y:8},{type:"rocketLauncher",x:30,y:7},{type:"plasmaGun",x:30,y:6},{type:"bfg9000",x:30,y:5},{type:"invulnerability",x:29,y:13},{type:"invisibility",x:29,y:14},{type:"computerMap",x:29,y:11.5},{type:"visor",x:28,y:10},{type:"radSuit",x:28,y:9},{type:"helmet",x:28,y:8},{type:"soulSphere",x:27,y:8},{type:"vial",x:25,y:13},{type:"vial",x:25,y:13.5},{type:"vial",x:25,y:14},{type:"vial",x:25,y:14.5},{type:"vial",x:25,y:15},{type:"vial",x:25,y:15.5},{type:"vial",x:25,y:16},{type:"vial",x:25,y:16.5},{type:"vial",x:25,y:17},{type:"vial",x:25,y:17.5},{type:"vial",x:25,y:18}];var Y=o(80);const{name:$,description:B,version:V,bugs:{url:K}}=Y,X={name:$,description:B,version:V,issues:K,singlePlayer:!0,delay:1e3/30,lastCycle:0,lastRender:0,paused:!1,logFPS:!1,logFPSInterval:1e3,compareFPSInterval:4e3,lastFPSLog:null,lastFPSCompare:null,lastFPSCompareValue:0};const j={showFPS:!0,hideStatusBar:!1,nextMugShot:0};const z={screenWidth:320,screenHeight:200};const Q={showAutomap:!1,showGrid:!1,showViewingCone:!0,revealMap:!1,revealThings:!1,levelName:"The Level",backgroundColor:"black",gridColor:"grey",wallColor:"red",playerColor:"white",enemyColor:"blue",decorationColor:"green",itemColor:"green"};const J={keyPressCount:0,history:[]};const q={volume:0};const ee={volume:0,song:null,playlistMode:!0};const te={volume:0};var oe=o(13),ne=o.n(oe);const re=[];var ae=Object(n.a)({constants:(e=_,t)=>{const{type:o,payload:n}=t;switch(o){default:return e;case"UPDATE_CONSTANT":return{...e,...n}}},player:(e=h,t)=>{const{type:o,payload:n={}}=t,{selectedWeapon:r,ammoType:a,ammoCount:s,health:l,armor:i,armorType:c="green",doNotOverrideArmorType:p}=n;switch(o){default:return e;case"INIT_PLAYER":return h;case"TOGGLE_GODMODE":return{...e,health:100,godMode:!e.godMode};case"CHEAT_AMMO":return{...e,health:100,armor:200,doubleMaxAmmo:!0,weapons:u,ammo:O};case"CHEAT_AMMO_AND_KEYS":return{...e,health:100,armor:200,doubleMaxAmmo:!0,weapons:u,ammo:O,keys:Z};case"SET_PLAYER_COORDINATES":return{...n};case"MOVE_PLAYER_FORWARD":return{...e,speed:1};case"MOVE_PLAYER_BACKWARD":return{...e,speed:-1};case"ROTATE_PLAYER_LEFT":return{...e,dir:-1};case"ROTATE_PLAYER_RIGHT":return{...e,dir:1};case"START_PLAYER_STRAFE":return{...e,strafe:!0};case"STOP_PLAYER_STRAFE":return{...e,strafe:!1};case"STOP_PLAYER_SPEED":return{...e,speed:0};case"STOP_PLAYER_DIRECTION":return{...e,dir:0};case"STOP_LOWER_WEAPON":return{...e,selectedWeapon:r};case"START_PLAYER_FIRE":return{...e,firing:!0};case"STOP_PLAYER_FIRE":return{...e,firing:!1};case"UPDATE_AMMO_COUNT":return{...e,ammo:{...e.ammo,[a]:s}};case"SET_PLAYER_HEALTH":return{...e,health:l};case"SET_PLAYER_ARMOR":return e.armorType&&p?{...e,armor:i}:{...e,armor:i,armorType:c}}},weapons:(e=g,t)=>{const{type:o,payload:n={}}=t,{nextWeapon:r,lowerWeaponDelay:a,raiseWeaponDelay:s,idleFrameDelay:l,currentIdleFrame:i,currentFiringFrameDelay:c,currentFiringFrame:p}=n;switch(o){default:return e;case"START_LOWER_WEAPON":return{...e,nextWeapon:r,lowerWeaponDelay:7};case"UPDATE_LOWER_WEAPON":return{...e,lowerWeaponDelay:a};case"STOP_LOWER_WEAPON":return{...e,nextWeapon:void 0,lowerWeaponDelay:void 0};case"START_RAISE_WEAPON":return{...e,raiseWeaponDelay:7};case"UPDATE_RAISE_WEAPON":return{...e,raiseWeaponDelay:s};case"STOP_RAISE_WEAPON":return{...e,raiseWeaponDelay:void 0};case"UPDATE_WEAPON_ANIMATION_DELAY":return{...e,idleFrameDelay:l,currentIdleFrame:i};case"SET_IDLE_WEAPON_SOUND":return{...e,playingIdleSound:!0};case"UNSET_IDLE_WEAPON_SOUND":return{...e,playingIdleSound:!1};case"UPDATE_WEAPON_FIRE_ANIMATION_DELAY":return{...e,currentFiringFrameDelay:c};case"UPDATE_WEAPON_FIRE_FRAME":return{...e,currentFiringFrame:p};case"WAIT_FOR_WEAPON_ANIMATION_END":return{...e,waitForAnimationToEnd:!0};case"STOP_PLAYER_FIRE":return{...e,waitForAnimationToEnd:!1,currentFiringFrame:p}}},map:(e=f,t)=>{const{type:o,payload:n}=t,r={...e};switch(o){case"INIT_MAP":return n;default:return r}},wallMap:(e=I,t)=>{const{type:o,payload:n}=t,r=[...e];switch(o){case"INIT_WALL_MAP":return n;default:return r}},wallTypes:(e=M,t)=>{const{type:o,payload:n}=t,r={...e};switch(o){case"SET_WALL_TYPES":return n;default:return r}},enemyTypes:(e=D,t)=>{const{type:o,payload:n}=t,r={...e};switch(o){case"SET_ENEMY_TYPES":return n;default:return r}},enemies:(e=k,t)=>{const{type:o,payload:n={},index:r}=t,{x:a,y:s,rotDeg:l,rot:i,speed:c,walkFrame:p,direction:d,enemyId:u,soundType:Z}=n;switch(o){case"INIT_ENEMY_MAP":return n;case"UPDATE_ENEMY_COORDINATES":return e.map((e,t)=>t===r?{...e,x:a,y:s}:e);case"MOVE_ENEMY":return e.map((e,t)=>t===r?{...e,speed:c,rotDeg:l,rot:i,walkFrame:p,direction:d,nextMotion:!e.nextMotion||e.nextMotion<=0?450+450*Math.random():e.nextMotion-100}:e);case"SET_ENEMY_ACTIVE_SOUND":{const{foundEnemy:t,foundIndex:o}=v(e,u);if(void 0===t||null===o)return console.error(`enemies reducer: Could not find enemy with id '${u}'.`),e;const n=C(t,Z,!0),r=[...e];return r[o]=n,r}case"UNSET_ENEMY_ACTIVE_SOUND":{const{foundEnemy:t,foundIndex:o}=v(e,u);if(void 0===t||null===o)return console.error(`enemies reducer: Could not find enemy with id '${u}'.`),e;const n=C(t,Z,!1),r=[...e];return r[o]=n,r}case"STOP_ENEMY":return e.map((e,t)=>t===r?{...e,state:0,speed:0}:e);default:return e}},decorationTypes:(e=G,t)=>{const{type:o,payload:n}=t,r={...e};switch(o){case"SET_DECORATION_TYPES":return n;default:return r}},decorations:(e=b,t)=>{const{type:o,payload:n}=t,r=[...e];switch(o){case"INIT_DECORATION_MAP":return n;default:return r}},itemTypes:(e=H,t)=>{const{type:o}=t;return e},items:(e=U,t)=>{const{type:o,payload:n={}}=t,{items:r}=n;switch(o){default:return e;case"INIT_ITEMS":return[...n];case"PICK_UP_ITEMS":{const t=r.map(e=>e.id);return[...e.filter(e=>-1===t.indexOf(e.id))]}}},game:(e=X,t)=>{const{type:o,payload:n={}}=t,{fps:r}=n;switch(o){default:return e;case"SET_LAST_GAME_CYCLE_TIME":return{...e,lastCycle:n};case"SET_LAST_RENDER_CYCLE_TIME":return{...e,lastRender:n};case"TOGGLE_PAUSE":{const t=(new Date).getTime();return{...e,paused:!e.paused,lastCycle:t}}case"LAST_FPS_LOG":{const t=(new Date).getTime();return{...e,lastFPSLog:t}}case"LAST_FPS_COMPARE":{const t=(new Date).getTime();return{...e,lastFPSCompare:t,lastFPSCompareValue:r}}}},hud:(e=j,t)=>{const{type:o,payload:n}=t;switch(o){default:return e;case"SET_HUD":return{...n};case"TOGGLE_FPS":return{...e,showFPS:!e.showFPS};case"SET_NEXT_MUGSHOT":return{...e,nextMugShot:e.nextMugShot<=0?20:e.nextMugShot-1};case"TOGGLE_GODMODE":return{...e,nextMugShot:0}}},view:(e=z,t)=>{const{type:o,payload:n={}}=t,{screenWidth:a,screenHeight:s}=n,l={...e};switch(o){case"SET_VIEW_SIZE":{const t=Math.ceil(a/3),o=a/2/Math.tan(r/2);return{...e,screenWidth:a,screenHeight:s,numRays:t,viewDist:o}}default:return l}},automap:(e=Q,t)=>{const{type:o,payload:n={}}=t,{scale:r}=n;switch(o){default:return e;case"SET_AUTOMAP_SCALE":return{...e,scale:r};case"TOGGLE_AUTOMAP":return{...e,showAutomap:!e.showAutomap};case"TOGGLE_AUTOMAP_GRID":return{...e,showGrid:!e.showGrid};case"TOGGLE_VIEWING_CONE":return e.showAutomap?{...e,showViewingCone:!e.showViewingCone}:e;case"TOGGLE_CHEAT_AUTOMAP":return e.revealThings&&e.revealMap?{...e,revealMap:!1,revealThings:!1}:e.revealMap?{...e,revealMap:!0,revealThings:!0}:{...e,revealMap:!0,revealThings:!1}}},keyStrokes:(e=J,t)=>{const{type:o,payload:n={}}=t,{keyCode:r}=n;switch(o){default:return e;case"INCREMENT_KEYPRESS_COUNT":return{...e,keyPressCount:e.keyPressCount+1};case"REGISTER_KEY_STROKE":return{...e,history:[...e.history,r]};case"CLEAR_KEY_STROKES":return{...e,history:[]}}},touch:(e=q,t)=>{const{type:o,payload:n={}}=t,{touch:r}=n;switch(o){default:return e;case"REGISTER_TOUCH":return{...e,...r};case"UNREGISTER_TOUCH":return null}},music:(e=ee,t)=>{const{type:o,payload:n={}}=t,{song:r,songName:a,volume:s}=n;switch(o){default:return e;case"SET_MUSIC":return{...e,song:r,songName:a,volume:s||e.volume};case"SET_MUSIC_VOLUME":return{...e,volume:s};case"TOGGLE_PLAYLIST_MODE":return e.song&&(!1===e.playlistMode?e.song.loop=!1:e.song.loop=!0),{...e,playlistMode:!e.playlistMode}}},sound:(e=te,t)=>{const{type:o,payload:n={}}=t,{volume:r}=n;switch(o){default:return e;case"SET_SOUND_VOLUME":return{...e,volume:r}}},log:(e=re,t)=>{const{type:o,payload:n}=t;switch(o){default:return e;case"ADD_LOG_EVENT":return[...e,{message:n,id:ne()()}];case"REMOVE_LOG_EVENT":return[...e.filter(e=>e.id!==n)];case"TRUNCATE_LOG":return[...e.slice(-2)]}}});const se=Object(n.b)(ae,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),le=se.dispatch,ie=(e=null)=>{const t=se.getState();return e?t[e]:t};var ce=e=>document.getElementById(e),pe=e=>document.createElement(e),de=()=>{const e=ce("strips"),{view:{screenWidth:t}}=ie();for(let o=0;o<t;o+=3){const t=pe("img");t.style.position="absolute",t.style.height="0px",t.style.left=t.style.top="0px",t.oldStyles={left:0,top:0,width:0,height:0,clip:"",src:""},e.appendChild(t)}},ue=()=>{const{automap:{backgroundColor:e,wallColor:t,gridColor:o},map:{mapWidth:n,mapHeight:r}}=ie(),a=ce("automapcontainer"),s=ce("minimap"),l=ce("grid"),i=ce("minimapobjects");s.style.width="100%",s.style.height="100%",s.width=s.offsetWidth,s.height=s.offsetHeight,s.style.width="",s.style.height="",l.width=s.width,l.height=s.height,i.width=s.width,i.height=s.height;let c=s.height/r,p=s.width/n;if(c>p){c=p;const e=c*r,t=s.height-e;a.style.marginTop=t/2}else if(c<p){p=c;const e=p*n,t=s.width-e;a.style.marginLeft=t/2}const d=p;le({type:"SET_AUTOMAP_SCALE",payload:{scale:d}});const u=s.getContext("2d"),Z=l.getContext("2d");u.fillStyle=e,u.fillRect(0,0,s.width,s.height);const{wallMap:O}=ie();for(let e=0;e<r;e++){for(let a=0;a<n;a++){0!==O[e][a]&&(u.fillStyle=t,u.fillRect(a*d+d/2,e*d+d/2,d+1,d+1)),Z.fillStyle=o,Z.fillRect(a*d,1,1,r*d-1)}Z.fillStyle=o,Z.fillRect(1,e*d,n*d-1,1)}};const Ze=()=>{const e=document.body.clientWidth,t=document.body.clientHeight;le({type:"SET_VIEW_SIZE",payload:{screenWidth:e,screenHeight:t}})};var Oe=()=>{Ze(),window.onresize=function(){Ze(),de();const e=ie(),{automap:{showAutomap:t}}=e;(e=>{const{constants:{STATUS_BAR_FILLER:t}}=e,o=ce("statusbar"),n=ce("statusbarcontainer");n.style.backgroundImage=`url('${t}')`,n.style.height=o.offsetHeight})(e),t&&ue()}};var ye=e=>{le({type:"REMOVE_LOG_EVENT",payload:e});const{log:t}=ie();return ce("log").innerHTML=t.map(e=>e.message).join("<br/>"),!0},me=(e="")=>{le({type:"ADD_LOG_EVENT",payload:e});const{log:t,game:{paused:o}}=ie(),{length:n}=t;n>2&&le({type:"TRUNCATE_LOG"}),ce("log").innerHTML=t.map(e=>e.message).join("<br/>");const r=t[n-1];return setTimeout(()=>ye(r.id),3e3),!0},Ee=(e,t=ie())=>{const{constants:{CHEATS:o,CHEATS:[n,r,a,s,l],ON:i,OFF:c},keyStrokes:{history:p}}=t,d=e||p.map(e=>String.fromCharCode(e)).join("");switch(o.find(e=>d.indexOf(e)>-1)){default:return!1;case n:{le({type:"TOGGLE_GODMODE"});const{player:{godMode:e}}=ie();me(`Degreelessness mode ${e?i:c}.`);break}case r:le({type:"CHEAT_AMMO"}),me("Ammo (no keys) added.");break;case a:le({type:"CHEAT_AMMO_AND_KEYS"}),me("Very happy ammo added.");break;case s:{const{automap:{revealMap:e,revealThings:t}}=ie();le({type:"TOGGLE_CHEAT_AUTOMAP"});const{automap:{revealMap:o,revealThings:n}}=ie();me(!1===e&&!0===o?"Reveal map.":!1===t&&!0===n?"Reveal things.":"Hide things and full map.");break}}return le({type:"CLEAR_KEY_STROKES"}),!0},Ae=e=>{const{music:{song:t}}=ie();if(!t)return console.error("adjustMusicVolume(): It looks like there isn't any song to update."),!1;const o=Math.max(0,Math.min(1,e));return t.volume=o,console.log(`adjustMusicVolume(): ${o.toFixed(2)}`),le({type:"SET_MUSIC_VOLUME",payload:{volume:o}}),!0},Le=e=>{const t=Math.max(0,Math.min(1,e));return console.log(`adjustSoundVolume(): ${t.toFixed(2)}`),le({type:"SET_SOUND_VOLUME",payload:{volume:t}}),!0};var Fe={D_E1M1:"At Doom's Gate",D_E1M2:"The Imp's Song",D_E1M3:"Dark Halls",D_E1M4:"Kitchen Ace (and Taking Names)",D_E1M5:"Suspense",D_E1M6:"On the Hunt",D_E1M7:"Demons on the Prey",D_E1M8:"Sign of Evil",D_E1M9:"Hiding the Secrets",D_E2M1:"I Sawed the Demons",D_E2M2:"The Demons from Adrian's Pen",D_E2M3:"Intermission from DOOM",D_E2M4:"They're Going to Get You",D_E2M6:"Sinister",D_E2M7:"Waltz of the Demons",D_E2M8:"Nobody Told Me About id",D_E2M9:"Untitled",D_E3M2:"Donna to the Rescue",D_E3M3:"Deep into the Code",D_E3M8:"Facing the Spider",D_VICTOR:"The End of Doom",D_BUNNY:"Sweet Little Dead Bunny",D_RUNNIN:"Running from Evil",D_STALKS:"The Healer Stalks",D_COUNTD:"Countdown to Death",D_BETWEE:"Between Levels",D_DOOM:"DOOM",D_THE_DA:"In the Dark",D_SHAWN:"Shawn's Got the Shotgun",D_DDTBLU:"The Dave D. Taylor Blues",D_IN_CITY:"Into Sandy's City",D_DEAD:"The Demon's Dead",D_ROMERO:"Waiting for Romero to Play",D_MESSAGE:"Message for the Archvile",D_AMPIE:"Bye Bye American Pie",D_ADRIAN:"Adrian's Asleep",D_TENSE:"Getting too Tense",D_OPENING:"Opening to Hell",D_EVIL:"Evil Incarnate",D_ULTIMA:"The Ultimate Challenge",SADISTIC:"Sadistic",DEATH_BELL:"Death's Bell",MORE:"More",SOLDIER_OF_CHAOS:"Soldier of Chaos",INFINITE:"Infinite",KILL_AT_WILL:"Let's Kill at Will",COLD_SUBTLENESS:"Cold Subtleness",BLOOD_JUNGLE:"Blood Jungle",AIMSHOOTKILL:"AimShootKill",LEGION_LOST:"Legion of the Lost"};const Te=(e=!0)=>{const{music:{song:t,volume:o,playlistMode:n}}=ie();t&&t.play&&t.pause();const r=Object.keys(Fe).map(e=>e),a=Math.floor(Math.random()*(r.length-1)),s=Fe[r[a]],l=s.replace(/ /g,"_").replace(/'/g,"_").replace(/\./g,"_"),i=new Audio(`/assets/music/${l}.mp3`);return i.volume=o,i.loop=!n,i.play().then(()=>(console.log(`startMusic(): ${s}.`),le({type:"SET_MUSIC",payload:{song:i,songName:s,volume:o}}),me(`Playing '${s}'...`),i.addEventListener("ended",()=>{n&&(console.log("startMusic(): Queuing up next song."),Te(!0,!0))},!1),!0)).catch(t=>(e&&(console.error(`startMusic(): Couldn't play '${s}'.`,{error:t}),me(`Couldn't play '${s}'.`)),!1))};var Se=(e=!1)=>{if(e){const{keyStrokes:{keyPressCount:e}}=ie();return e>1&&(Te(),!0)}return document.addEventListener("keydown",()=>{const{constants:{ON:e,OFF:t},music:{playlistMode:o}}=ie();return console.log(`startMusic(): Playlist mode: ${o?e:t}`),Te()},{once:!0}),!0},We=(e,t)=>{const{constants:{WEAPONS:{FIST:o,PISTOL:n}},player:{weapons:r=null}}=e;return!!t.some(e=>e===o||e===n)||!!r&&t.some(e=>r.indexOf(e)>-1)},_e=(e,t)=>{const{constants:{WEAPONS:{FIST:o},WEAPON_SLOTS:n},weapons:{lowerWeaponDelay:r,raiseWeaponDelay:a},player:{selectedWeapon:s,weapons:l,firing:i}}=e;if(i||r||a)return!1;if(null==t)return console.error(`getWeaponFromSlot(): Invalid slot number '${t}'.`),!1;const c=n[t];return c?!!We(e,c)&&(1===c.length?c[0]!==s&&c[0]:2===c.length?c[0]===s&&(1===t||l.indexOf(n[t][1])>-1)?n[t][1]:c[1]===s&&1!==t&&l.indexOf(n[t][0])>-1?n[t][0]:l.indexOf(n[t][0])>-1&&s!==n[t][0]?n[t][0]:l.indexOf(n[t][1])>-1&&s!==n[t][1]?n[t][1]:1===t&&s!==o&&o:(console.error(`getWeaponFromSlot(): ${n.length} weapons found for slot ${t}. Maximum weapon per slot authorized is 2.`),!1)):(console.error(`getWeaponFromSlot(): No weapon found for slot number ${t}.`),!1)},he=e=>{const{constants:{WEAPON_SETTINGS:t},player:{selectedWeapon:o}}=e,n=t[o];return n||(console.error(`getWeaponSettings(): Unknown selected weapon '${o}'. Could not get weapon settings.`),!1)},ge=e=>{const{player:{ammo:t}}=e,o=he(e);if(!o)return!1;const{ammoType:n,usage:r=1}=o;if(n&&(!t||t[n]<r))return!1;le({type:"START_PLAYER_FIRE"})},Re=e=>{const{weapons:{currentFiringFrame:t}}=e;if(0!==t)return le({type:"WAIT_FOR_WEAPON_ANIMATION_END"}),!1;const o=he(e);if(!o)return!1;const{firingFrames:n}=o;le({type:"STOP_PLAYER_FIRE",currentFiringFrame:n.length-1})};var fe=()=>{const{automap:{showAutomap:e}}=ie(),t=ce("automapcontainer"),o=ce("screen");e&&"block"!==t.style.display?(t.style.display="block",o.style.display="none",ue()):e||"none"===t.style.display||(t.style.display="none",o.style.display="block")},Ie=e=>{const{hud:{showFPS:t},automap:{showAutomap:o},game:{paused:n,logFPS:r,logFPSInterval:a,compareFPSInterval:s,lastFPSLog:l,lastFPSCompare:i,lastFPSCompareValue:c}}=ie(),p=ce("fps");let d=null;if((t||r)&&(d=1e3/e),r){const e=(new Date).getTime();if(e-l>a){if(l){let t="",o=0;e-i>s&&(c&&(o=Number((d-c).toFixed(1)),t=`(${o>0?`+${o}`:o})`),le({type:"LAST_FPS_COMPARE",payload:{fps:d}})),console.log(`fps: %c${Number(d.toFixed(1))} %c${t}`,`color: ${d<15?"red":d<20?"orange":"green"}`,`color: ${o<0?"red":"green"}`)}le({type:"LAST_FPS_LOG"})}}return t?("flex"!==p.style.display&&(p.style.display="flex"),o&&"orange"!==p.style.color?p.style.color="orange":o||"red"===p.style.color||(p.style.color="red"),n||(p.innerHTML=d.toFixed(1)),!0):(t||"none"!==p.style.display&&(p.style.display="none"),!1)},Me=()=>{const{automap:{showAutomap:e}}=ie(),t=ce("log");e&&"orange"!==t.style.color?t.style.color="orange":e||"red"===t.style.color||(t.style.color="red")},De=e=>{const{game:{paused:t},automap:{showAutomap:o}}=ie();e&&le({type:"TOGGLE_PAUSE"}),t&&o&&(le({type:"TOGGLE_AUTOMAP"}),fe(),Me(),Ie());const n=ce("pause");t&&"block"!==n.style.display?(n.innerHTML="Pause",n.style.display="block"):t||"none"===n.style.display||(n.style.display="none")};const Pe={init:()=>{le({type:"INIT_PLAYER"})},move:(e=1,t=1,o=0)=>{const{player:n}=ie(),r={...n,x:e,y:t,rotDeg:o,rot:o/180*Math.PI};le({type:"SET_PLAYER_COORDINATES",payload:r});const{player:a}=ie();return a},pos:()=>{const{player:e}=ie();return e}},Ne={inspect:()=>{const{weapons:e}=ie();return e},switch:e=>{const t=ie(),o=_e(t,e);!1!==o&&le({type:"START_LOWER_WEAPON",payload:{nextWeapon:o}});const{weapons:n}=ie();return n}},xe={pos:e=>{const{enemies:t}=ie(),o=t[e-1];return o||(console.error(`Index ${e} is out of range (max: ${t.length})`),{})}},we={add:me,remove:ye},ve=()=>De(!0),Ce=e=>!!e.toUpperCase&&Ee(e.toUpperCase()),ke={get:()=>{const{music:e}=ie();return e},random:()=>Se(!0)};var Ge=(e,t,o="yellow",n={})=>{const{ALPHANUMERIC_PATH:r,STATUS_BAR_NUM_GREY_PREFIX:a,STATUS_BAR_NUM_YELLOW_PREFIX:s,IMG_EXT:l}=n;if(void 0===t)return e.removeAttribute("src"),!1;const i="grey"===o?a:s;return e.src=`${r}/${i}/${i}${t}${l}`,e.className=o,!0},be=e=>{const{constants:{IMG_EXT:t,STATUS_BAR_PATH:o,STATUS_BAR_FILENAME:n,STATUS_BAR_FILLER:r},hud:{hideStatusBar:a}}=e;if(a)return!1;const s=ce("statusbar"),l=new Image;l.id="stbar",l.src=`${o}/${n}${t}`,l.style.width="100%",s.appendChild(l),setTimeout(()=>{const e=ce("statusbarcontainer");e.style.backgroundImage=`url('${r}')`,e.style.height=l.offsetHeight,ce("statusbargrid").height=l.height},200),(e=>{const{game:{singlePlayer:t},constants:o,constants:{IMG_EXT:n,STATUS_BAR_PATH:r,STATUS_BAR_WEAPON_FILENAME:a}}=e;if(t){const e=ce("weaponsandfragcontainer"),t=new Image;t.id="arms",t.src=`${r}/${a}${n}`,t.style.width="100%",e.appendChild(t),e.style.display="block";const s=ce("weapon2");Ge(s,2,"yellow",o),[3,4,5,6,7].map(e=>{const t=ce(`weapon${e}`);return Ge(t,e,"grey",o),!0})}})(e)},He=(e,t,o,n,r)=>{const{constants:{IMG_EXT:a}}=n,s=ce("screen");let l=[];for(let n=0;n<e.length;n++){const i={...e[n]};if(!i.type){console.error(`initSprites(): Could not find sprite type '${i.type}' for sprite at {x: ${i.x}, y: ${i.y}}`);continue}if(isNaN(i.x)||isNaN(i.y)){console.error("initSprites(): x and/or y coordinates are undefined. Entity will not be placed on the map.",{entity:i});continue}const c=t[i.type];if(!c){console.error(`initSprites(): Sprite type '${i.type}' is undefined. Entity will not be placed on the map.`,{entity:i,spriteType:c});continue}if("enemies"===r){if(!c.prefix){console.error("initSprites(): Sprite type is missing a prefix for image filenames. Entity will not be placed on the map.",{entity:i,spriteType:c});continue}if(!c.moveSpeed||!c.rotSpeed){console.error("initSprites(): moveSpeed and/or rotSpeed of sprite type is undefined. Entity will not be placed on the map.",{entity:i,spriteType:c});continue}}const p=ne()(),d=pe("img");d.id=p,d.className=i.type,d.style.display="none",d.style.position="absolute";let u={};if("enemies"===r)d.src=`${o}/${c.prefix}/${c.prefix}A1${a}`,u={awake:!0,rotDeg:0,rot:0,...i,id:p,dir:0,speed:0,moveSpeed:c.moveSpeed,rotSpeed:c.rotSpeed,radius:c.radius,oldStyles:{left:0,top:0,width:0,height:0,clip:"",display:"none",zIndex:0},img:d},l=[...l,u];else{d.src=`${o}/${c.prefix}A0${a}`;let e={...i,id:p};"decorations"===r&&(e={...e,block:!0===c.block||void 0===c.block,radius:c.radius}),l=[...l,{...e}]}s.appendChild(d)}return l};const Ue=64,Ye=(e,t,{x:o,y:n},r=!1)=>!!t.find(t=>{if((!r||r&&t.block)&&t.id!==e){const{x:e,y:r,radius:a=Ue/2}=t,s=2*a/Ue;if(e>=o-s&&e<=o+s&&r>=n-s&&r<=n+s)return!0}return!1});var $e=(e,t,o,n)=>{const{map:{mapHeight:r,mapWidth:a},wallMap:s,decorations:l,enemies:i,player:c}=e;if(n<0||n>=r||o<0||o>=a)return!0;const p={x:o,y:n};return 0!==s[Math.floor(n-.5)][Math.floor(o-.5)]||(0!==s[Math.floor(n+.5)][Math.floor(o+.5)]||(0!==s[Math.floor(n)][Math.floor(o-.5)]||(0!==s[Math.floor(n)][Math.floor(o+.5)]||(0!==s[Math.floor(n)][Math.floor(o)]||!!(Ye(t,l,p,!0)||Ye(t,i,p)||Ye(t,[c],p))))))},Be=(e,t,o,n)=>{const{game:{delay:r}}=ie();if(r<=0)return console.error("Invalid value: game.delay should be a number greater than zero."),!1;const a={...t},s=o/r;let l=a.x,i=a.y,c=0,p=0;if(t.strafe){let e=1;0!==a.dir&&0!==a.speed&&(e=2),0!==a.dir&&(c=s*a.dir*-1*a.moveSpeed*1.2/e,l+=Math.cos(a.rot-Math.PI/2)*c,i+=Math.sin(a.rot-Math.PI/2)*c),0!==a.speed&&(c=s*a.speed*a.moveSpeed/e,l+=Math.cos(a.rot)*c,i+=Math.sin(a.rot)*c)}else{c=s*a.speed*a.moveSpeed,p=s*a.dir*a.rotSpeed,a.rotDeg+=p,a.rotDeg%=360,a.rotDeg<-180&&(a.rotDeg+=360),a.rotDeg>=180&&(a.rotDeg-=360);const e=(a.rotDeg+360)%90;(e<2||e>88)&&(a.rotDeg=90*Math.round(a.rotDeg/90)),a.rot=a.rotDeg*Math.PI/180,l+=Math.cos(a.rot)*c,i+=Math.sin(a.rot)*c}const d=(({id:e,x:t,y:o},{toX:n,toY:r},a)=>{const s=ie(),{map:{mapHeight:l,mapWidth:i}}=s,c={x:t,y:o};if(r<0||r>=l||n<0||n>=i)return c;const p=n,d=r;if($e(s,e,p,d))return c;c.x=n,c.y=r;const u=$e(s,e,p,d-1),Z=$e(s,e,p,d+1),O=$e(s,e,p-1,d),y=$e(s,e,p+1,d);if(0!==u&&r-d<a&&(r=c.y=d+a),0!==Z&&d+1-r<a&&(r=c.y=d+1-a),0!==O&&n-p<a&&(n=c.x=p+a),0!==y&&p+1-n<a&&(n=c.x=p+1-a),0!==$e(s,e,p-1,d-1)&&(0===u||0===O)){const e=n-p,t=r-d;e*e+t*t<a*a&&(e*e>t*t?n=c.x=p+a:r=c.y=d+a)}if(0!==$e(s,e,p+1,d-1)&&(0===u||0===y)){const e=n-(p+1),t=r-d;e*e+t*t<a*a&&(e*e>t*t?n=c.x=p+1-a:r=c.y=d+a)}if(0!==$e(s,e,p-1,d+1)&&(0===Z||0===Z)){const e=n-p,t=r-(d+1);e*e+t*t<a*a&&(e*e>t*t?n=c.x=p+a:r=c.y=d+1-a)}if(0!==$e(s,e,p+1,d+1)&&(0===Z||0===y)){const e=n-(p+1),t=r-(d+1);e*e+t*t<a*a&&(e*e>t*t?n=c.x=p+1-a:r=c.y=d+1-a)}return c})(a,{toX:l,toY:i},.01);switch(a.x=d.x,a.y=d.y,e){default:break;case"enemy":le({type:"UPDATE_ENEMY_COORDINATES",index:n,payload:{x:a.x,y:a.y}});break;case"player":le({type:"SET_PLAYER_COORDINATES",payload:a})}return!1},Ve=e=>{const t=ce(e);return t.parentNode.removeChild(t)};const Ke=(e,t)=>{if(e){const t=e.match(/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3}), ?(\d\.{0,1}\d{0,1})\)?/);if(t){return 5!==t.length&&console.error(`setOverlay: The background color of the overlay element is not an expected value. Found ${e}. Expected format: rgba(255, 255, 255, 1)`),Number(t[4])}return 1}return 0};const Xe=(e,t)=>{const o=((e,t)=>{const{constants:{PLAYER_MAX_NORMAL_HEALTH:o,PLAYER_MAX_IMPROVED_HEALTH:n},player:r,itemTypes:a}=e,s=a[t.type];if(!s.pickup)return!1;const{setHealth:l,extraHealth:i,addHealth:c}=s.pickup;if(l&&r.health<l){const e=Math.min(n,l);return le({type:"SET_PLAYER_HEALTH",payload:{health:e}}),!0}if(c&&r.health+c<o){const e=Math.min(o,r.health+c);return le({type:"SET_PLAYER_HEALTH",payload:{health:e}}),!0}if(i&&r.health+i<n){const e=Math.min(n,r.health+i);return le({type:"SET_PLAYER_HEALTH",payload:{health:e}}),!0}return!1})(e,t),n=((e,t)=>{const{constants:{PLAYER_MAX_IMPROVED_ARMOR:o},player:n,itemTypes:r}=e,a=r[t.type];if(!a.pickup)return!1;const{setArmor:s,extraArmor:l,armorType:i,doNotOverrideArmorType:c}=a.pickup;if(s&&n.armor<s){const e=Math.min(o,s);return le({type:"SET_PLAYER_ARMOR",payload:{armor:e,armorType:i}}),!0}if(l){const e=n.armor+l;if(e<o){const t=Math.min(o,e);return le({type:"SET_PLAYER_ARMOR",payload:{armor:t,armorType:i,doNotOverrideArmorType:c}}),!0}}return!1})(e,t),r=o||n||void 0;if(r){((e,t,o)=>{const{constants:{OPACITY_INCREMENT:n,OPACITY_DURATION:r,PICK_UP_OVERLAY:a}}=e;switch(o){default:{const e=ce("overlay"),o=Ke(e.style.background),s=Math.min(5,o+n);console.log(s),e.style.background=`rgb(${a}, ${s})`;const l=r+1500*s,i=setInterval(()=>{const e=ce("overlay"),t=Ke(e.style.background);if(t<=0)e.style.background="",clearInterval(i);else{const o=Math.max(0,t-n);e.style.background=`rgb(${a}, ${o})`,console.log(o)}},t||l);break}}})(e);const{itemTypes:o}=e,n=o[t.type];n.message&&me(n.message)}return r};const{FORWARD:je,LEFT:ze,RIGHT:Qe,BACKWARD:Je}={FORWARD:"FORWARD",LEFT:"LEFT",RIGHT:"RIGHT",BACKWARD:"BACKWARD"};var qe=(e,t)=>{if(e.nextMotion>0)return e;const o=t.x-e.x,n=t.y-e.y;let r=1,a=je;const s=Math.random();s>.6&&(a=Je,s>.7&&(a=ze,s>.85&&(a=Qe)));let l=Math.atan2(n,o);const i=Math.random();return a===Je&&(l-=Math.PI*i),a===ze?(r=.5,l+=Math.PI/2):a===Qe&&(r=.5,l-=Math.PI/2),{rot:l,rotDeg:180*l/Math.PI,speed:r,direction:a}},et=(e,t=1)=>{const{game:{paused:o},sound:{volume:n}}=ie();if(o||0===n||!e)return!1;const r=Math.min(n,t*n);if(r<.045)return!1;const a=new Audio(`assets/sound/${e}.wav`);return a.volume=r,a.play(),!0};const tt=e=>{return e[Math.floor(Math.random()*e.length)/e.length]},ot=(e,t,o,n)=>(le({type:"SET_ENEMY_ACTIVE_SOUND",payload:{enemyId:n,soundType:e}}),setTimeout(()=>nt(o,n,e),t),!0),nt=(e,t,o)=>{const{player:n,enemies:r}=ie(),a=r.find(e=>e.id===t);if(void 0===a)return console.error(`playActiveSound(): Could not find enemy with id '${t}'.`),!1;const s=((e,t)=>{const o=e.x-t.x,n=e.y-t.y;return 1/Math.sqrt(o*o+n*n)*5})(n,a);return et(e,s),le({type:"UNSET_ENEMY_ACTIVE_SOUND",payload:{enemyId:t,soundType:o}}),!0};var rt=(e,t,o)=>{const{walk:n}=t;if(!n)return!1;const{soundFixed:r,soundRandom:a,soundFixedInterval:s,soundBaseInterval:l}=n;if(!r&&!a)return!1;if(s){const{fixedSoundQueued:t}=e;if(t)return!1;const o=tt(r);return ot("fixedInterval",s,o,e.id)}if(l){const{randomSoundQueued:t}=e;if(t)return!1;const o=tt(a),n=(e=>{const t=Math.random()>.5?1:-1;return e+Math.floor(e*(Math.random()/1.5)*t)})(l);return ot("randomInterval",n,o,e.id)}},at=(e,t,o={},n=!1)=>{const{ALPHANUMERIC_PATH:r,STATUS_BAR_NUM_PREFIX:a,IMG_EXT:s}=o;return void 0===t?(e.removeAttribute("src"),e.style=void 0,!1):(e.src=`${r}/${a}/${a}NUM${t}${s}`,1===Number(t)?(e.style.width=n?"23%":"17%",e.style.marginRight="3%"):(e.style.width=n?"30%":"24%",e.style.marginRight="0px"),!0)},st=(e,{element1:t,element2:o,element3:n},r,a=!1)=>{if(null===e)return at(t,void 0,r,a),at(o,void 0,r,a),at(n,void 0,r,a),!0;const[s,l,i]=e;return void 0===i&&void 0===l?(at(t,void 0,r,a),at(o,void 0,r,a),at(n,s,r,a),!0):void 0===i?(at(t,void 0,r,a),at(o,s,r,a),at(n,l,r,a),!0):(at(t,s,r,a),at(o,l,r,a),at(n,i,r,a),!0)},lt=e=>{const{constants:{ALPHANUMERIC_PATH:t,STATUS_BAR_NUM_PREFIX:o,IMG_EXT:n}}=ie();return e.src=`${t}/${o}/${o}PRCNT${n}`,e.style.width="24%",!0};const it=(e,t,o)=>{const n=We(e,o),r=ce(`weapon${t}`),a=n?"yellow":"grey";if(r.className!==a){const{constants:o}=e;Ge(r,t,a,o)}};const ct=(e,t,o,n)=>{const{constants:{STATUS_BAR_PATH:r,STATUS_BAR_KEY_PREFIX:a,IMG_EXT:s}}=e;if(t){const e=ce(o);if(e.className!==t){const o="card"===t?n:n+3;e.src=`${r}/${a}${o}${s}`,e.className=t}}};const pt=(e,t)=>{dt(e,t),ut(e,t)},dt=(e,t)=>{const{constants:o,player:{ammo:n}}=e,r=n?String(n[t]||0):"0";return Zt(e,t,r,o)},ut=(e,t)=>{const{constants:o,constants:{AMMO_MAX:n},player:{doubleMaxAmmo:r}}=e,a=String((n[t]||0)*(!!r+1));return Zt(e,`max${t}`,a,o)},Zt=(e,t,o,n)=>{return((e,{element1:t,element2:o,element3:n},r)=>{if(null===e)return Ge(t,void 0,"yellow",r),Ge(o,void 0,"yellow",r),Ge(n,void 0,"yellow",r),!0;const[a,s,l]=e;return void 0===l&&void 0===s?(Ge(t,void 0,"yellow",r),Ge(o,void 0,"yellow",r),Ge(n,a,"yellow",r),!0):void 0===l?(Ge(t,void 0,"yellow",r),Ge(o,a,"yellow",r),Ge(n,s,"yellow",r),!0):(Ge(t,a,"yellow",r),Ge(o,s,"yellow",r),Ge(n,l,"yellow",r),!0)})(o,{element1:ce(`${t}1`),element2:ce(`${t}2`),element3:ce(`${t}3`)},n)};var Ot=e=>{const{hud:{hideStatusBar:t}}=e;if(t)return!1;(e=>{const{constants:t,constants:{WEAPON_SETTINGS:o},player:{selectedWeapon:n,ammo:r}}=e,a=ce("selectedammocontainer");if(n){const e=o[n];if(e&&e.ammoType?a.className!==e.ammoType&&(a.className=e.ammoType):"null"!==a.className&&(a.className="null"),!a.className)return!1;const s=ce("ammo1"),l=ce("ammo2"),i=ce("ammo3");let c=null;"null"!==a.className&&r&&void 0!==r[e.ammoType]&&(c=r[e.ammoType]);const p=null===c?null:String(c);st(p,{element1:s,element2:l,element3:i},t,!0)}})(e),(()=>{const{constants:e,player:{health:t}}=ie(),o=ce("health1"),n=ce("health2"),r=ce("health3"),a=ce("healthpercent"),s=String(t);st(s,{element1:o,element2:n,element3:r},e),lt(a)})(),(e=>{const{constants:{WEAPON_SLOTS:t},game:{singlePlayer:o}}=e;o&&(it(e,3,t[3]),it(e,4,t[4]),it(e,5,t[5]),it(e,6,t[6]),it(e,7,t[7]))})(e),(()=>{const{constants:{STATUS_BAR_PATH:e,IMG_EXT:t,MUGSHOT:{PREFIX:o,DEAD:n,RAMPAGE:r,GODMODE:a,OUCHFACE:s,IDLE:l,HURT_LEFT:i,HURT_RIGHT:c,LOOK_LEFT:p,LOOK_STRAIGHT:d,LOOK_RIGHT:u,THRESHOLD0:Z,THRESHOLD1:O,THRESHOLD2:y,THRESHOLD3:m,THRESHOLD4:E}},hud:{nextMugShot:A},player:{dead:L,godMode:F,health:T}}=ie(),S=ce("mugshot"),W=ce("mugshotcontainer"),_=ce("statusbar");if(S.style.height=_.offsetHeight-.12*W.offsetHeight,L)return S.src=`${e}/${o}${n}${Z}${t}`,!0;if(F)return S.src=`${e}/${o}${a}${Z}${t}`,!0;if(le({type:"SET_NEXT_MUGSHOT"}),A>0)return!1;const h=Math.random();let g=d;h<.33?g=p:h>.66&&(g=u);let R=Z;T<20?R=E:T<40?R=m:T<60?R=y:T<80&&(R=O),S.src=`${e}/${o}${l}${R}${g}${t}`})(),(()=>{const{constants:e,player:{armor:t}}=ie(),o=ce("armor1"),n=ce("armor2"),r=ce("armor3"),a=ce("armorpercent"),s=String(t);st(s,{element1:o,element2:n,element3:r},e),lt(a)})(),(e=>{const{player:{keys:t={}}}=e,{red:o,blue:n,yellow:r}=t;ct(e,n,"bluekey",0),ct(e,r,"yellowkey",1),ct(e,o,"redkey",2)})(e),(e=>(pt(e,"bullets"),pt(e,"shells"),pt(e,"rockets"),pt(e,"cells"),!0))(e)};var yt=(e,t,o)=>{const{constants:{IMG_EXT:n,WEAPON_PATH:r}}=e,a=he(e);if(!a)return!1;const{prefix:s}=a;return`${r}/${s}${((e,t,o)=>{const{noFlashSpritePrefix:n}=o;return n||t?"":"G"})(0,o,a)}${t}0${n}`},mt=(e,t,o=!1)=>{const n=he(e);if(!n)return!1;const{idleFrames:r,idleFrameInterval:a}=n;if(!r)return"A";if(o){if(2!==r.length){const{player:{selectedWeapon:t}}=e;return console.error(`getIdleFrame(): Invalid weapon setting for '${t}'. The property 'idleFrames' must contain 2 elements or be undefined.`),!1}const{weapons:{idleFrameDelay:o,currentIdleFrame:n}}=e,s=void 0===o||o<=0?a:o-1;return o<=0?t.src.includes(yt(e,r[0]))?(le({type:"UPDATE_WEAPON_ANIMATION_DELAY",payload:{idleFrameDelay:s,currentIdleFrame:r[1]}}),r[1]):(le({type:"UPDATE_WEAPON_ANIMATION_DELAY",payload:{idleFrameDelay:s,currentIdleFrame:r[0]}}),r[0]):(le({type:"UPDATE_WEAPON_ANIMATION_DELAY",payload:{idleFrameDelay:s,currentIdleFrame:n||r[0]}}),n||r[0])}if(0===r.length){const{player:{selectedWeapon:t}}=e;return console.error(`getIdleFrame(): Invalid weapon setting for '${t}'. Could not get first frame from the 'idleFrames' property.`),!1}return r[0]};let Et=null;const At=(e,t,o)=>{const{weapons:{playingIdleSound:n}}=e;if(!n)return Et=setInterval(()=>Lt(t),o),le({type:"SET_IDLE_WEAPON_SOUND"}),!0},Lt=e=>{const{game:{paused:t}}=ie();return!t&&(et(e,1),!0)};var Ft=e=>{const{constants:{WEAPON_SWITCH_TIME:t},weapons:{nextWeapon:o,lowerWeaponDelay:n,raiseWeaponDelay:r},player:{selectedWeapon:a,firing:s}}=e;if(n){le({type:"UPDATE_LOWER_WEAPON",payload:{lowerWeaponDelay:n-1}});const e=ce("weapon"),o=e.offsetHeight;return e.style.bottom=-o/t*(t-n),!1}if(n<=0&&o&&a!==o){le({type:"STOP_LOWER_WEAPON",payload:{selectedWeapon:o}});const e=ce("weapon"),t=ie();e.src=((e,t)=>{const o=mt(e,t,!1);return yt(e,o)})(t,e),le({type:"START_RAISE_WEAPON"});const n=he(t),{raiseSound:r}=n;return r&&et(r),!1}if(r){le({type:"UPDATE_RAISE_WEAPON",payload:{raiseWeaponDelay:r-1}});const e=ce("weapon"),o=e.offsetHeight;return e.style.bottom=-o/t*r,!1}if(r<=0&&le({type:"STOP_RAISE_WEAPON"}),!a)return console.error("handleWeapon(): No weapon selected."),!1;const l=ce("weapon");if(0!==l.style.bottom&&(l.style.bottom=0),s){const t=(e=>{const{constants:{DEFAULT_FIRING_WEAPON_FRAME_DELAY:t}}=e,o=he(e);if(!o)return!1;const{usage:n,ammoType:r,firingFrames:a,firingFrameDelay:s,flashFrames:l,noFlashOverlay:i,firingSounds:c}=o;if(!a||0===a.length)return!1;const{weapons:{currentFiringFrameDelay:p=0,currentFiringFrame:d=0,waitForAnimationToEnd:u}}=e,Z=p<=0?s||t:p-1;let O=!1;if(p<=0){const t=d<=0?a.length-1:d-1;if(O=yt(e,a[t],i),c&&c[d]){const e=c[d];et(e,1)}let o=!1;if(0===t&&r){const{player:{ammo:t}}=e,a=t[r],s=Math.max(0,a-(n||1));le({type:"UPDATE_AMMO_COUNT",payload:{ammoType:r,ammoCount:s}}),s<=0&&(o=!0)}if((u||o)&&0===t)return le({type:"STOP_PLAYER_FIRE",currentFiringFrame:a.length-1}),O;le({type:"UPDATE_WEAPON_FIRE_FRAME",payload:{currentFiringFrame:t}})}return le({type:"UPDATE_WEAPON_FIRE_ANIMATION_DELAY",payload:{currentFiringFrameDelay:Z}}),O})(e);return t&&(l.src=t),!1}return l.src=((e,t)=>{const o=mt(e,t,!0);return yt(e,o)})(e,l),(e=>{const t=he(e);if(!t)return!1;const{idleSound:o,idleSoundInterval:n}=t;o&&n?At(e,o,n):(clearInterval(Et),le({type:"UNSET_IDLE_WEAPON_SOUND"}))})(e),!0};const Tt=()=>{const e=ie(),{game:{delay:t,lastCycle:o,paused:n},player:r}=e;if(t<=0)return console.error("Invalid value: gameCycle.delay should be a number greater than zero."),!1;if(De(),n)return setTimeout(Tt,t),!1;const a=(new Date).getTime(),s=a-o;0===r.speed&&0===r.dir||Be("player",r,s),(e=>{const t=(e=>{const{constants:{FRAC_UNIT:t},player:{x:o,y:n},items:r}=e;return r.filter(e=>{const{x:r,y:a,radius:s=t/2}=e,l=2*s/t;return r>=o-l&&r<=o+l&&a>=n-l&&a<=n+l})})(e);if(t.length>0){let o=[];for(let n=0;n<t.length;n++){Xe(e,t[n])&&(o=[...o,t[n]],Ve(t[n].id))}o.length>0&&le({type:"PICK_UP_ITEMS",payload:{items:o}})}})(e),(e=>{const{enemies:t,enemyTypes:o,player:n}=ie();for(let r=0;r<3;r++){const a={...t[r]},s={...o[a.type]};if(a.awake){rt(a,s);const{rot:t,rotDeg:o,speed:l,direction:i}=qe(a,n),c=s.walk.cycle,p=s.walk.count,d=Math.floor(new Date%c/(c/p))+1;le({type:"MOVE_ENEMY",index:r,payload:{speed:l,rotDeg:o,rot:t,walkFrame:d,direction:i}});const u={...a,rotDeg:o,rot:t,speed:l,walkFrame:d};Be("enemy",u,e,r)}else 0!==a.speed&&le({type:"STOP_ENEMY",index:r})}})(s),Me(),fe(),Ot(e),Ft(e);let l=t;s>l&&(l=Math.max(1,l-(s-l))),setTimeout(Tt,l),le({type:"SET_LAST_GAME_CYCLE_TIME",payload:a})};var St=Tt;const Wt=(e,t,o)=>{const{automap:{scale:n}}=e,r=ce("minimapobjects").getContext("2d");for(let e=0;e<t.length;e++){const a=t[e],s={x:a.x*n,y:a.y*n};r.fillStyle=o,r.fillRect(s.x,s.y,n,n)}};var _t=(e,t)=>{const o=ie(),{constants:{IMG_EXT:n,TEXTURE_PATH:r},player:s,map:{mapWidth:l,mapHeight:i},automap:{showViewingCone:c},view:{screenHeight:p,viewDist:d},wallTypes:u,wallMap:Z}=o;(e%=a)<0&&(e+=a);const O=e>.75*a||e<.25*a,y=e<0||e>Math.PI;let m=0;const E=Math.sin(e),A=Math.cos(e);let L,F,T,S=0,W=0,_=0,h=0,g=0,R=!1,f=E/A;const I=O?1:-1,M=I*f;let D=O?Math.ceil(s.x):Math.floor(s.x),P=s.y+(D-s.x)*f;for(;D>0&&D<l&&P>0&&P<i;){if(F=D+(O?0:-1)>>0,T=P>>0,0!==Z[T][F]){const e=D-s.x,t=P-s.y;S=e*e+t*t,m=Z[T][F],L=P%1,O||(L=1-L),W=D,_=P,h=F,g=T,R=!1;break}D+=I,P+=M}f=A/E;const N=y?-1:1,x=N*f;P=y?Math.floor(s.y):Math.ceil(s.y),D=s.x+(P-s.y)*f;const w=ce("strips");for(;D>0&&D<l&&P>0&&P<i;){if(T=P+(y?-1:0)>>0,F=D>>0,0!==Z[T][F]){const e=D-s.x,t=P-s.y,o=e*e+t*t;(!S||o<S)&&(S=o,W=D,_=P,h=F,g=T,m=Z[T][F],L=D%1,y&&(L=1-L),R=!1);break}D+=x,P+=N}if(S){c&&((e,t)=>{const{automap:{scale:o,showAutomap:n},player:r}=ie();if(!n)return!1;const a=ce("minimapobjects").getContext("2d");a.strokeStyle="rgba(0,100,0,0.3)",a.lineWidth=1,a.beginPath(),a.moveTo(r.x*o+o/2,r.y*o+o/2),a.lineTo(e*o+o/2,t*o+o/2),a.closePath(),a.stroke()})(W,_);const o=w.children[t];if(!o)return void console.error(`Rendering Error: Index ${t} is out of range.`);S=Math.sqrt(S),S*=Math.cos(s.rot-e);const a=Math.round(d/S),l=3*a,i=Math.round((p-a)/2),Z=0,O=o.style,y=o.oldStyles,E=u[m];if(!E)return void console.error(`Could not find texture '${m}' for wall at {x: ${F}, y: ${T}}`);let A=null;A=(isNaN(m),`${r}/${E}${n}`),y.src!==A&&(o.src=A,y.src=A);const f=a;y.height!==f&&(O.height=`${f}px`,y.height=f);let I=Math.round(L*l);I>l-3&&(I=l-3),I+=R?l:0;const M=l>>0;y.width!==M&&(O.width=`${M}px`,y.width=M);const D=i-Z;y.top!==D&&(O.top=`${D}px`,y.top=D);const P=3*t-I;y.left!==P&&(O.left=`${P}px`,y.left=P);const N=`rect(${Z}, ${I+3}, ${Z+a}, ${I})`;y.clip!==N&&(O.clip=N,y.clip=N);const x=h-s.x,v=g-s.y,C=-1e3*(x*x+v*v)>>0;C!==y.zIndex&&(o.style.zIndex=C,y.zIndex=C)}};const ht={A:1,B:2,C:3,D:4,E:5,F:6,G:7,H:8,I:9,J:10,K:11,L:12,M:13,N:14,O:15,P:16,Q:17,R:18,S:19,T:20,U:21,V:22,W:23,X:24,Y:25,Z:26};var gt=e=>ht[e]-1;const Rt=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];var ft=e=>Rt[e-1],It=e=>e>=0?e/Math.PI*180:(e+Math.PI)/Math.PI*180+180;const Mt=e=>{let t=1;return e>22.5&&e<67.5?t=4:e>112.5&&e<157.5?t=2:e>67.5&&e<112.5?t=3:e>-22.5&&e<22.5?t=5:e>-67.5&&e<-22.5?t=6:e>-112.5&&e<-67.5?t=7:(e>212.5||e<157.5)&&(t=8),t},Dt=e=>1===e?1:10-e,Pt=(e,t,o,n,r)=>{const a=((e,t)=>ft(e<t?e+t-1:e-t+1))(e,n),s=Dt(o);return e<n?`${r}${t}${o}${a}${s}`:`${r}${a}${s}${t}${o}`},Nt=(e,t,o,n=!1)=>{const r=Dt(t);return 1===t||5===t?`${o}${e}${t}`:n&&t>5||!n&&t<5?`${o}${e}${t}${e}${r}`:`${o}${e}${r}${e}${t}`};var xt=(e,t,o,n)=>{const{constants:{IMG_EXT:r,ENEMY_PATH:a,ITEM_PATH:s},player:l,view:{screenHeight:i,screenWidth:c,viewDist:p},automap:{showAutomap:d}}=e;if(d)return!1;for(let e=0;e<t.length;e++){const d={...t[e]},u=ce(d.id),Z=d.x-l.x,O=d.y-l.y,y=Math.sqrt(Z*Z+O*O),m=Math.atan2(O,Z)-l.rot,E=u.naturalHeight,A=u.naturalWidth,L=p/(Math.cos(m)*y),F=p/(Math.cos(m)*y)*(E/52),T=p/(Math.cos(m)*y)*(A/52),S=p/(Math.cos(m)*y)-F;if(L<=0){"none"!==u.style.display&&(d.visible=!1,u.style.display="none");continue}if("block"!==u.style.display&&(d.visible=!0,u.style.display="block"),"items"===n){const{type:e}=d,t={...o[e]},{endFrame:n,prefix:a}=t;if(n){const e=gt(n)+1,t=Math.floor(new Date%(250*e)/(250*e/e))+1,o=ft(t);u.src=`${s}/${a}${o}0${r}`}}if("enemies"===n){const{type:e,speed:t,rot:n,walkFrame:s}=d,l={...o[e]},{prefix:i,walk:{start:c,count:p,mirroredAngles:y,reversedAngles:m,mirroredFrames:E,mirroredFramesAnglesNotShared:A}}=l,L=It(n),F=It(Math.atan2(O,Z))-L,T=Mt(F);if(0!==t){const e=gt(c),t=ft(s+e);if(E||A&&(1===T||5===T)){const e=p/2+1,o=Pt(s,t,T,e,i);u.src=`${a}/${i}/${o}${r}`,u.style.transform=s<e?"scaleX(1)":"scaleX(-1)"}else if(A||y){const e=Nt(t,T,i,m);u.src=`${a}/${i}/${e}${r}`,u.style.transform=m&&T>5||!m&&T<5?"scaleX(1)":"scaleX(-1)"}else u.src=`${a}/${i}/${i}${t}${T}${r}`}}const W=Math.tan(m)*p;u.style.left=`${c/2+W-T/2}px`,u.style.top=`${i/2-F/3+S/1.5}px`,u.style.width=`${T}px`,u.style.height=`${F}px`;const _=d.x-l.x,h=d.y-l.y,g=_*_+h*h;u.style.zIndex=-Math.floor(1e3*g)}};const wt=()=>{const e=ie(),{game:{delay:t,lastRender:o,paused:n},automap:{showAutomap:r,showViewingCone:a}}=e;if(t<=0)return console.error("Invalid value: game.delay should be a number greater than zero."),!1;if(n)return setTimeout(wt,t),!1;(e=>{const t=ce("minimapobjects"),{player:o,enemies:n,decorations:r,items:a,automap:{scale:s,showAutomap:l,showGrid:i,revealThings:c,playerColor:p,enemyColor:d,itemColor:u,decorationColor:Z}}=e,O=ce("weapon");if(!l)return"block"!==O.style.display&&(O.style.display="block"),!1;"none"!==O.style.display&&(O.style.display="none");const y=t.getContext("2d");t.width=t.width;const m={x:o.x*s,y:o.y*s};y.fillStyle=p,y.fillRect(m.x,m.y,s,s),c&&(Wt(e,n,d),Wt(e,r,Z),Wt(e,a,u));const E=ce("grid");i&&"block"!==E.style.display?E.style.display="block":i||"none"===E.style.display||(E.style.display="none")})(e),(!r||r&&a)&&(()=>{let e=0;const{player:t,view:{numRays:o,viewDist:n},automap:{showAutomap:r,showViewingCone:a}}=ie();if(r&&!a)return!1;for(let r=0;r<o;r++){const a=3*(-o/2+r),s=Math.sqrt(a*a+n*n),l=Math.asin(a/s);_t(t.rot+l,e++)}})(),r||((e=>{const{decorations:t}=e;xt(e,t)})(e),(e=>{const{items:t,itemTypes:o}=e;xt(e,t,o,"items")})(e),(e=>{const{enemyTypes:t,enemies:o}=e;xt(e,o,t,"enemies")})(e));const s=(new Date).getTime(),l=s-o;let i=t;l>i&&(i=Math.max(1,i-(l-i))),le({type:"SET_LAST_RENDER_CYCLE_TIME",payload:s}),setTimeout(wt,i),Ie(l)};var vt=wt;navigator.serviceWorker&&window.addEventListener("load",async()=>{try{await navigator.serviceWorker.register("/service-worker.js"),console.log("SW registered.")}catch(e){console.error("SW registration failed.",e)}}),setTimeout(()=>{const e=ie();(e=>{const{game:{name:t,description:o,version:n,issues:r}}=e;console.info({name:t}),console.info({description:o}),console.info({version:n}),console.info(`Report an issue: ${r}`)})(e),Oe(),(e=>{const{constants:{KEYBOARD:t,ON:o,OFF:n}}=e,{UP:r,W:a,DOWN:s,S:l,LEFT:i,A:c,RIGHT:p,D:d,TAB:u,SHIFT:Z,CTRL:O,COMMAND:y,MINUS:m,NUMPAD_MINUS:E,EQUAL:A,NUMPAD_PLUS:L,ONE:F,TWO:T,THREE:S,FOUR:W,FIVE:_,SIX:h,SEVEN:g,F:R,G:f,J:I,M:M,P:D,R:P,V:N}=t;console.table({"UP-or-W":"forward","DOWN-or-S":"backward","LEFT-or-A":"left","RIGHT-or-D":"right",SHIFT:"strafe",TAB:"toggle automap",MINUS:"turn volume down","EQUAL-or-PLUS":"turn volume up",F:"toggle FPS count",G:"toggle automap grid",J:"toggle playlist mode",M:"change song",P:"toggle pause",V:"toggle viewing cone (automap only)"}),document.onkeydown=e=>{const{keyCode:t}=e,{keyStrokes:{keyPressCount:x},game:{paused:w},automap:{showGrid:v},music:{volume:C,playlistMode:k},sound:{volume:G}}=ie();switch(t!==y&&t!==P&&e.preventDefault(),console.log({keyCode:t}),x<2&&le({type:"INCREMENT_KEYPRESS_COUNT"}),t){default:break;case D:le({type:"TOGGLE_PAUSE"});break;case E:case m:Ae(C-.1),Le(G-.1),me("Volume down.");break;case L:case A:Ae(C+.1),Le(G+.1),me("Volume up.");break;case R:le({type:"TOGGLE_FPS"});break;case I:console.log(`Playlist mode: ${k?n:o}`),me(`Playlist mode: ${k?n:o}`),le({type:"TOGGLE_PLAYLIST_MODE"});break;case M:Se(!0)}if(w)return!1;le({type:"REGISTER_KEY_STROKE",payload:{keyCode:t}});const b=ie();if(Ee(null,b))return!1;switch(t){default:break;case r:case a:le({type:"MOVE_PLAYER_FORWARD"});break;case s:case l:le({type:"MOVE_PLAYER_BACKWARD"});break;case i:case c:le({type:"ROTATE_PLAYER_LEFT"});break;case p:case d:le({type:"ROTATE_PLAYER_RIGHT"});break;case u:le({type:"TOGGLE_AUTOMAP"});break;case Z:le({type:"START_PLAYER_STRAFE"});break;case O:ge(b);break;case F:{const e=_e(b,1);!1!==e&&le({type:"START_LOWER_WEAPON",payload:{nextWeapon:e}});break}case T:{const e=_e(b,2);!1!==e&&le({type:"START_LOWER_WEAPON",payload:{nextWeapon:e}});break}case S:{const e=_e(b,3);!1!==e&&le({type:"START_LOWER_WEAPON",payload:{nextWeapon:e}});break}case W:{const e=_e(b,4);!1!==e&&le({type:"START_LOWER_WEAPON",payload:{nextWeapon:e}});break}case _:{const e=_e(b,5);!1!==e&&le({type:"START_LOWER_WEAPON",payload:{nextWeapon:e}});break}case h:{const e=_e(b,6);!1!==e&&le({type:"START_LOWER_WEAPON",payload:{nextWeapon:e}});break}case g:{const e=_e(b,7);!1!==e&&le({type:"START_LOWER_WEAPON",payload:{nextWeapon:e}});break}case f:me(`Grid ${v?n:o}.`),le({type:"TOGGLE_AUTOMAP_GRID"});break;case N:le({type:"TOGGLE_VIEWING_CONE"})}},document.onkeyup=e=>{const{keyCode:t}=e;e.preventDefault();const o=ie(),{game:{paused:n}}=o;if(n)return!1;switch(t){default:break;case r:case s:case a:case l:le({type:"STOP_PLAYER_SPEED"});break;case i:case p:case c:case d:le({type:"STOP_PLAYER_DIRECTION"});break;case Z:le({type:"STOP_PLAYER_STRAFE"});break;case O:Re(o)}}})(e),(e=>{document.onclick=e=>{const t=ce("viewport");document.pointerLockElement!==t&&t.requestPointerLock()},document.onmousedown=e=>{const t=ie(),{game:{paused:o}}=t;if(o)return!1;ge(t)},document.onmouseup=e=>{const t=ie(),{game:{paused:o}}=t;if(o)return!1;Re(t)},document.onmousemove=e=>{const t=ie(),{game:{paused:o}}=t;if(o)return!1;const{movementX:n,movementY:r}=e;n>0?le({type:"ROTATE_PLAYER_RIGHT"}):n<0&&le({type:"ROTATE_PLAYER_LEFT"}),r<0?le({type:"MOVE_PLAYER_FORWARD"}):r>0&&le({type:"MOVE_PLAYER_BACKWARD"}),0!==n&&setTimeout(()=>{le({type:"STOP_PLAYER_DIRECTION"})},30),0!==r&&setTimeout(()=>{le({type:"STOP_PLAYER_SPEED"})},30)}})(),document.ontouchstart=e=>{const{clientX:t,clientY:o}=e.touches[0],n={clientX:t,clientY:o,timestamp:(new Date).getTime()};le({type:"REGISTER_TOUCH",payload:{touch:n}})},document.ontouchmove=e=>{const{clientX:t,clientY:o}=e.touches[0],n={clientX:t,clientY:o,timestamp:(new Date).getTime()},r=ie(),{player:{dir:a,speed:s},touch:l}=r,i=n.clientX-l.clientX,c=n.clientY-l.clientY;i>1&&c>-1&&c<1?1!==a&&le({type:"ROTATE_PLAYER_RIGHT"}):i<-1&&c>-1&&c<1&&-1!==a&&le({type:"ROTATE_PLAYER_LEFT"}),c<-1&&i>-1&&i<1?1!==s&&le({type:"MOVE_PLAYER_FORWARD"}):c>1&&i>-1&&i<1&&-1!==s&&le({type:"MOVE_PLAYER_BACKWARD"}),le({type:"REGISTER_TOUCH",payload:{touch:n}})},document.ontouchend=()=>{le({type:"UNREGISTER_TOUCH"}),le({type:"STOP_PLAYER_DIRECTION"}),le({type:"STOP_PLAYER_SPEED"})},(()=>(console.log("debug functions",{getElementById:ce,player:Pe,weapons:Ne,enemies:xe,log:we,pause:ve,cheat:Ce,song:ke}),window.getElementById=ce,window.player=Pe,window.weapons=Ne,window.enemies=xe,window.log=we,window.pause=ve,window.cheat=Ce,window.song=ke,!0))(),Se(),de(),be(e),(e=>{const{player:t}=e,o={...t,id:ne()()};o.rotDeg%=360,o.rotDeg<-180&&(o.rotDeg+=360),o.rotDeg>=180&&(o.rotDeg-=360);const n=(o.rotDeg+360)%90;(n<2||n>88)&&(o.rotDeg=90*Math.round(o.rotDeg/90)),o.rot=o.rotDeg*Math.PI/180,le({type:"SET_PLAYER_COORDINATES",payload:o})})(e),(e=>{const{constants:{DECORATION_PATH:t},decorationTypes:o,decorations:n}=e,r=He(n,o,t,e,"decorations");le({type:"INIT_DECORATION_MAP",payload:r})})(e),(e=>{const{constants:{ITEM_PATH:t},itemTypes:o,items:n}=e,r=He(n,o,t,e);le({type:"INIT_ITEMS",payload:r})})(e),(e=>{const{constants:{ITEM_PATH:t},enemyTypes:o,enemies:n}=e,r=He(n,o,t,e,"enemies");le({type:"INIT_ENEMY_MAP",payload:r})})(e),ue(),St(),vt()},1)},80:function(e){e.exports=JSON.parse('{"name":"jsdoom","version":"0.6.1","description":"🎮 Doom in JavaScript!","keywords":["Doom","Wolfenstein","FPS"],"homepage":"https://github.com/yvesgurcan/jsdoom","bugs":{"url":"https://github.com/yvesgurcan/jsdoom/issues"},"author":{"name":"Yves Gurcan","email":"ygurcan@cbtnuggets.com","url":"http://www.yvesgurcan.com"},"scripts":{"start":"npm run network-info; webpack-dev-server","build":"webpack --mode production","test":"jest","preversion":"npm run test","postversion":"npm run build && git add . && git commit -m \'New build\' && git push","network-info":"echo \\"ℹ ｢wds｣ Running on local network at http:/\\" | tr \\"\\n\\" \\"/\\"; ifconfig | grep \\"inet \\" | grep -Fv 127.0.0.1 | awk \'{print $2}\'"},"devDependencies":{"clean-webpack-plugin":"^3.0.0","html-webpack-plugin":"^3.2.0","jest":"^24.9.0","prettier":"^1.19.1","redux":"^4.0.0","uuid4":"^1.0.0","webpack":"^4.41.2","webpack-cli":"^3.3.10","webpack-dev-server":"^3.9.0","workbox-webpack-plugin":"^4.3.1"}}')},85:function(e,t){},87:function(e,t){}},[[164,1,2]]]);